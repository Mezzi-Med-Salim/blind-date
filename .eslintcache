[{"C:\\react\\my-app\\src\\reportWebVitals.js":"1","C:\\react\\my-app\\src\\index.js":"2","C:\\react\\my-app\\src\\App.js":"3","C:\\react\\my-app\\src\\model\\fire.js":"4","C:\\react\\my-app\\src\\Login.js":"5","C:\\react\\my-app\\src\\Hero.js":"6","C:\\react\\my-app\\src\\Main.js":"7","C:\\react\\my-app\\src\\NotFound.js":"8"},{"size":362,"mtime":499162500000,"results":"9","hashOfConfig":"10"},{"size":291,"mtime":1607993632288,"results":"11","hashOfConfig":"10"},{"size":3766,"mtime":1607993325279,"results":"12","hashOfConfig":"10"},{"size":482,"mtime":1607574870239,"results":"13","hashOfConfig":"10"},{"size":1725,"mtime":1607991914032,"results":"14","hashOfConfig":"10"},{"size":288,"mtime":1607887933367,"results":"15","hashOfConfig":"10"},{"size":769,"mtime":1607993704282,"results":"16","hashOfConfig":"10"},{"size":232,"mtime":1607993602555,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"kd5kai",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\react\\my-app\\src\\reportWebVitals.js",[],["37","38"],"C:\\react\\my-app\\src\\index.js",[],"C:\\react\\my-app\\src\\App.js",["39","40","41","42"],"import React, { useState , useEffect } from \"react\" ;\nimport './App.css';\nimport fire from'./model/fire' ;\nimport firebase from 'firebase'\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\n\nimport Login from './Login';\nimport Hero from './Hero';\n\nconst App = ()=> {\n  const [user, setUser] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [hasAccount, sethasAccount] = useState(false);\n  const [data,setData] = React.useState([])\n  const clearInputs =() => {\n    setEmail('');\n    setPassword('');\n  }\n  const uiConfig = {\n    // Popup signin flow rather than redirect flow.\n    signInFlow: 'popup',\n    // Redirect to /signedIn after sign in is successful. Alternatively you can provide a callbacks.signInSuccess function.\n    signInSuccessUrl: '/signedIn',\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n    ]\n  };\n   \n  const clearErrors =() =>{\n    setEmailError('');\n    setPasswordError('');\n  }\n  \n\n  const handleLogin =() =>{\n    clearErrors();\n    fire \n    .auth()\n    .signInWithEmailAndPassword(email,password)\n    .catch (err=>{\n      console.log(err)\n      switch(err.code){\n        case \"auth/invalid-email\":\n        case \"auth/user-disabled\":\n        case \"auth/user-not-found\":          \n          setEmailError(err.message);\n          break;\n        case \"auth/wrong-passeword\":\n          setPasswordError(err.message);\n          break;\n          default : setPasswordError('wrong password')\n      }\n    });\n\n  };\n  const handleSignup =() =>{\n    clearErrors();\n    fire\n    .auth()   \n    .createUserWithEmailAndPassword(email,password).then(async _usr=>{\n      \n      const utilisateur = {\n        id:_usr.user.uid,\n        email\n      }\n      await fire.firestore().collection('users').doc(_usr.uid).set(utilisateur).then(()=>console.log(\"added\")).catch(err=>{\n        console.log(err)\n      })\n    })\n    .catch (err=>{\n      switch(err.code){\n        case \"auth/email-already-in-use\":\n        case \"auth/invalid-email\":\n          setEmailError(err.message);\n          break;\n        case \"auth/weak-passeword\":\n          setPasswordError(err.message);\n          break;\n\n      }\n    });\n\n  };\n  const handleLogout = () =>{\n    fire.auth().signOut();\n  };\n  const authListener = () =>{\n    fire.auth().onAuthStateChanged((user)=>{\n      if (user){\n        clearInputs();\n        setUser(user);\n      }else \n      setUser(\"\");\n    });\n\n  };\n  const emailUpdate = (val)=>{\n    setEmail(val)\n  }\n  useEffect(async()=>{\n  authListener();\n  // fire.firestore().collection('data').map(usr=>usr.data())\n  const citiesRef = fire.firestore().collection('data');\n  const snapshot = await citiesRef.get();\n  if (snapshot.empty) {\n    console.log('No matching documents.');\n    return;\n  }  \n  let arr = []\n  snapshot.forEach(doc => {\n    console.log(doc.id, '=>', doc.data());\n    arr.push(doc.data())\n  });\n  setData(arr)\n  \n\n},[]);\n  return (\n    <div className=\"App\">\n      {user ? (\n        <Hero handleLogout ={handleLogout} />\n      ):(\n        <Login \n        email={email} \n        emailUpdate={emailUpdate} \n        password={password} \n        setPassword={setPassword} \n        handleLogin={handleLogin} \n        handleSignup={handleSignup} \n        hasAccount={hasAccount}\n        sethasAccount={sethasAccount}\n        emailError={emailError}\n        passwordError={passwordError}\n  \n        />\n      )\n      \n      }\n     \n        \n        <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={fire.auth()}/>\n        \n      </div>\n  );\n};\n\nexport default App;\n","C:\\react\\my-app\\src\\model\\fire.js",[],"C:\\react\\my-app\\src\\Login.js",[],"C:\\react\\my-app\\src\\Hero.js",["43"],"import react from 'react';\r\nconst Hero = ({handleLogout}) => {\r\n    return (\r\n       <section className=\"hero\">\r\n       <nav>\r\n       <h2> Welcome </h2>\r\n       <button onClick ={handleLogout}> Logout </button> \r\n       </nav>\r\n       </section>\r\n\r\n    );\r\n    \r\n};\r\nexport default Hero ;","C:\\react\\my-app\\src\\Main.js",[],"C:\\react\\my-app\\src\\NotFound.js",[],{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","severity":1,"message":"49","line":17,"column":10,"nodeType":"50","messageId":"51","endLine":17,"endColumn":14},{"ruleId":"52","severity":1,"message":"53","line":75,"column":7,"nodeType":"54","messageId":"55","endLine":84,"endColumn":8},{"ruleId":"56","severity":1,"message":"57","line":104,"column":13,"nodeType":"58","endLine":121,"endColumn":2},{"ruleId":"56","severity":1,"message":"59","line":121,"column":3,"nodeType":"60","endLine":121,"endColumn":5,"suggestions":"61"},{"ruleId":"48","severity":1,"message":"62","line":1,"column":8,"nodeType":"50","messageId":"51","endLine":1,"endColumn":13},"no-native-reassign",["63"],"no-negated-in-lhs",["64"],"no-unused-vars","'data' is assigned a value but never used.","Identifier","unusedVar","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","React Hook useEffect has a missing dependency: 'authListener'. Either include it or remove the dependency array.","ArrayExpression",["65"],"'react' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"66","fix":"67"},"Update the dependencies array to be: [authListener]",{"range":"68","text":"69"},[3122,3124],"[authListener]"]